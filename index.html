<h1>AI Argument Analyzer</h1>
<p>Enter your argument below, and the AI will analyze its logical structure.</p>

<textarea id="argumentInput" placeholder="Type your argument here..." style="width: 80%; height: 150px;"></textarea>
<br>
<button onclick="analyzeArgument()" style="background-color: #007bff; color: white; padding: 10px 20px; border: none; border-radius: 5px; cursor: pointer;">Analyze</button>

<div id="response" style="margin-top: 20px; font-size: 18px; color: #333;"></div>

<script>
    async function analyzeArgument() {
        const argument = document.getElementById("argumentInput").value;
        if (!argument) {
            alert("Please enter an argument.");
            return;
        }

        document.getElementById("response").innerText = "Analyzing argument...";

        const apiUrl = "https://script.googleusercontent.com/macros/echo?user_content_key=6N9bIe22TRx2N14ddkB588h-knmHFmQV-rxrtPZyEv3Sya1COin2RWmr0Tbf2ppg8-b9gW_-bh_cljZpj8J8CAtNevni_Cv3m5_BxDlH2jW0nuo2oDemN9CCS2h10ox_1xSncGQajx_ryfhECjZEnIUQ02Fc5lYk8IkWcqzc_1EJTZQJX2Mink5ZBGW46Zfci7EH-ft0nQEX0VsiIpU-0A&lib=MWtE7qM0vHqIlqispbA_wX6QPy0Un0KGU"; // Replace with your Web App URL

        try {
            const response = await fetch(apiUrl, {
                method: "POST", // Ensure this is a POST request
                headers: { 
                    "Accept": "application/json",
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({ text: argument }) // Send argument data
            });

            if (!response.ok) {
                throw new Error("Network response was not ok.");
            }

            const result = await response.json();
            document.getElementById("response").innerText = result.analysis || "Analysis failed.";
        } catch (error) {
            document.getElementById("response").innerText = "Error analyzing argument: " + error.message;
        }
    }
</script>
