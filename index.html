function standardizeArgument() {
    const argument = document.getElementById("argumentInput").value.trim();
    if (!argument) {
        alert("Please enter an argument.");
        return;
    }

    // Expanded conclusion indicators
    const conclusionIndicators = [
        "therefore", "thus", "hence", "so", "consequently",
        "it follows that", "we can conclude that", "which means that",
        "this implies that", "ergo", "accordingly", "as a result"
    ];

    // Improve sentence splitting: Keep commas intact
    let sentences = argument.split(/(?<=\.|\?|!)\s+/);
    let premises = [];
    let conclusion = "";

    for (let i = 0; i < sentences.length; i++) {
        let sentence = sentences[i].trim();
        let lowerSentence = sentence.toLowerCase();

        // Ensure conclusions are captured as full sentences
        if (conclusionIndicators.some(word => lowerSentence.includes(word))) {
            conclusion = sentence;
            // If the conclusion was split, add the next sentence (if it exists)
            if (i + 1 < sentences.length) {
                conclusion += " " + sentences[i + 1];
                i++; // Skip the next sentence since it's part of the conclusion
            }
        } else {
            premises.push(sentence);
        }
    }

    // Ensure last sentence is the conclusion if none was explicitly detected
    if (!conclusion && premises.length > 1) {
        conclusion = premises.pop();
    }

    // Format the output
    let output = "<strong>Standard Form:</strong><br><br>";
    premises.forEach((premise, index) => {
        output += `(P${index + 1}) ${premise}<br>`;
    });

    if (conclusion) {
        output += `<br>(C) ${conclusion}`;
    } else {
        output += "<br><strong>No conclusion detected.</strong>";
    }

    document.getElementById("response").innerHTML = output;
}
